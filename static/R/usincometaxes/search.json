[{"path":"https://shanejorr.github.io/usincometaxes/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 usincometaxes authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/articles/interface-options.html","id":"wasm","dir":"Articles","previous_headings":"","what":"1. ‘wasm’","title":"Interface Options for Calculating Taxes","text":"‘wasm’, abbreviation WebAssembly, option runs calculations locally computer. connect TAXSIM 35 servers. reason, faster robust methods: don’t connect server, worry firewalls, etc. output options connect TAXSIM 35 server directly. , keep reading might always case. ‘wasm’, calculations conducted JavaScript / WebAssembly files part package. words, get files install package. Interacting files abstracted away see tax calculations. JavaScript / WebAssembly tooling comes Aman Gupta Karmani’s great work can find GitHub repo: https://github.com/tmm1/taxsim.js. ’re checking work, don’t overlook tax calculator web app taxsim.app. JavaScript / WebAssembly files updated soon NBER updates Fortran code runs TAXSIM 35. incorporate updated JavaScript / WebAssembly files new version usincometaxes. benefit approach given version usincometaxes always produce results using ‘wasm’. holds given version usincometaxes always use exact JavaScript / WebAssembly files calculate taxes. might always true ‘ssh’ ‘http’ since calculations conducted NBER’s servers. Changes NBER’s TASXIM program running servers correlate version changes usincometaxes. Therefore, ‘wasm’ great option reproducibility paramount. usincometaxes’s changelog note version changes due update JavaScript / WebAssembly files. way, can check using version usincometaxes recent JavaScript / WebAssembly files reinstall usincometaxes case. reminder, following code lets check package versions: packageVersion(\"usincometaxes\").","code":""},{"path":"https://shanejorr.github.io/usincometaxes/articles/interface-options.html","id":"ssh","dir":"Articles","previous_headings":"","what":"2. ‘ssh’","title":"Interface Options for Calculating Taxes","text":"‘ssh’ interface option taxsim_calculate_taxes() connects TAXSIM 35 server via ssh, sends data server, retrieves output calculated taxes via standard output. SSH must installed operating system use option. use ‘ssh’ option SSH installed computer, receive informative error telling fact. , need check whether SSH installed prior using; can following R command: Sys.('ssh'). Standard port 22 used connect via SSH. chance SSH port 22 blocked via firewall. case, taxsim_calculate_taxes() return error starts: “Error: problem calculating taxes using ‘ssh’.”. Note error represent variety problems, one connection established NBER server vai SSH. , error might also mean problems arose NBER’s server attempted calculate taxes. Using ‘ssh’ ensures working date version TAXSIM 35, regardless installed usincometaxes. ‘ssh’ good news always using date TAXSIM 35 version, bad news chance see slightly different results time. Thus, ‘ssh’ may always provide reproducible results. Finally, ‘ssh’ slower ‘wasm’ since sending data , retrieving data , server.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/articles/interface-options.html","id":"http","dir":"Articles","previous_headings":"","what":"3. ‘http’","title":"Interface Options for Calculating Taxes","text":"‘http’ uses curl send retrieve data TAXSIM 35 server via https. Since calculations conducted remotely, ‘http’ advantages disadvantages ‘ssh’: using date version TAXSIM 35 (advantage), may prevent results exact time (disadvantage). ‘http’, data sets limited 2,000 rows. receive error use ‘http’ data set 2,000 rows.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/articles/taxsim-input.html","id":"required-columns","dir":"Articles","previous_headings":"","what":"Required columns","title":"Description of Input Columns","text":"taxsimid: arbitrary, non-negative, whole number greater zero. number links results TAXSIM 35 original input data frame specified .data. year: Tax year ending Dec 31 (4 digits 1960 2023). State must zero year 1977 2023. “single” 1 single; “married, jointly” 2 married, filing jointly; “married, separately” 6 married, filing separately; “dependent child” 8 dependent, usually child income; “head household” 1 head household filing status. state: State two letter abbreviation (‘NC’), full state name (‘North Carolina’) state SOI code (32). state income taxes needed, either label “State” remove variable. State income tax information available 1977 2023.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/articles/taxsim-input.html","id":"optional-columns","dir":"Articles","previous_headings":"","what":"Optional columns","title":"Description of Input Columns","text":"page: Age primary taxpayer December 31st tax year. Taxpayer age variables determine eligibility additional standard deductions, personal exemption, EITC AMT exclusion. sage: Age spouse December 31st tax year (0 / NA spouse). depx: Total number dependents (part personal exemption calculation). age1: Age youngest dependent. Used EITC, CTC CCC. 1991+ code students 20 23 19 get EITC calculation correct. Code infants “1”. age1 present depx used number child eligible EIC, CTC CDCC. age2: Age 2nd youngest dependent. age3: Age 3rd youngest dependent. Ages additional dependents relevant tax calculation, dependents included . Incomes pwages: Wage salary income Primary Taxpayer (exclude QBI). swages: Wage salary income Spouse (include self-employment QBI). Must zero column exist non-joint returns. psemp: Self-employment income Primary Taxpayer (exclude QBI). ssemp: Self-empoyment income Spouse. dividends: Dividend income (qualified dividends 2003 ). intrec: Interest income received (+/-). stcg: Short Term Capital Gains losses (+/-). ltcg: Long Term Capital Gains losses (+/-). Unearned limited partnership passive S-Corp profits; Rent eligible QBI deduction; Non-qualified dividends; income loss otherwise enumerated . Alimony; Nonwage fellowships; State income tax refunds (itemizers ); Alimony paid; Keogh IRA contributions; Foreign income exclusion; NOLs. pensions: Taxable Pensions IRA distributions. ggsi: Gross Social Security Benefits. pui: Unemployment Compensation received - primary taxpayer. sui: Unemployment compensation received - secondary taxpayer. split relevant 2020-2021. Welfare; Workers comp; Veterans benefits; Child support affect eligibility state property tax rebates taxable federal level. rentpaid: Rent paid (used calculating state property tax rebates). proptax: Real Estate taxes paid. preference AMT also used calculate state property tax rebates. state local taxes (line 8 Schedule ) plus local income tax; Preference share medical expenses; Miscellaneous (line 27). childcare: Child care expenses. following TCJA Business Tax Deduction. scorp: Active S-Corp income (SSTB). pbusinc: Primary Taxpayer’s Qualified Business Income (QBI) subject preferential rate without phaseout assuming sufficient wages paid capital eligible full deduction. Subject SECA Medicare additional Earnings Tax. pprofinc: Primary Taxpayer’s Specialized Service Trade Business service (SSTB) preferential rate subject claw-back. Subject SECA Medicare Additional Earnings Tax. sbusinc: Spouse’s QBI. Must zero non-joint returns, column exist. sprofinc: Spouse’s SSTB. Must zero non-joint returns, column exist.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/articles/taxsim-output.html","id":"standard-columns","dir":"Articles","previous_headings":"","what":"Standard columns","title":"Description of Output Columns","text":"Returned columns return_all_information = FALSE. taxsimid: ID number input data set, users can match tax information input data set. fiitax: Federal income tax liability including capital gains rates, surtaxes, AMT refundable non-refundable credits. siitax: State income tax liability. fica: Total FICA taxes, including employers employees share. frate: Marginal federal tax rate. srate: Marginal state tax rate, state identified. ficar: FICA rate. tfica: Taxpayer liability FICA. Marginal rates respect wage income unless another rate requested. detailed intermediate results requested, following 35 columns data added:.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/articles/taxsim-output.html","id":"detailed-columns","dir":"Articles","previous_headings":"","what":"Detailed columns","title":"Description of Output Columns","text":"Returned columns return_all_information = TRUE. standard columns shown , plus: credits: Total refundable non-refundable federal credits v10_federal_agi: Federal AGI v11_ui_agi: UI AGI v12_soc_sec_agi: Social Security AGI v13_zero_bracket_amount: Zero Bracket Amount v14_personal_exemptions: Personal Exemptions v15_exemption_phaseout: Exemption Phaseout v16_deduction_phaseout: Deduction Phaseout v17_itemized_deductions: Itemized Deductions Allowed (Zero non-itemizers) v18_federal_taxable_income: Federal Taxable Income v19_tax_on_taxable_income: Tax Taxable Income (special capital gains rates) v20_exemption_surtax: Exemption Surtax v21_general_tax_credit: General Tax Credit v22_child_tax_credit_adjusted: Child Tax Credit (adjusted) v23_child_tax_credit_refundable: Additional Child Tax Credit (refundable) v24_child_care_credit: Child Care Credit v25_eitc: Earned Income Credit (total federal) v26_amt_income: Income Alternative Minimum Tax v27_amt_liability: AMT Liability credit regular tax allowed credits. v28_fed_income_tax_before_credit:Federal Income Tax Credits (includes special treatment Capital gains, exemption surtax (1988-1996) 15% rate phaseout (1988-1990) AMT) v29_fica: FICA following columns zero state specified: v30_state_household_income: State Household Income (imputation property tax credit) v31_state_rent_expense: State Rent Expense (imputation property tax credit) v32_state_agi: State AGI v33_state_exemption_amount: State Exemption amount v34_state_std_deduction_amount: State Standard Deduction v35_state_itemized_deduction: State Itemized Deductions v36_state_taxable_income: State Taxable Income v37_state_property_tax_credit: State Property Tax Credit v38_state_child_care_credit: State Child Care Credit v39_state_eitc: State EIC v40_state_total_credits: State Total Credits v41_state_bracket_rate: State Bracket Rate staxbc: State tax liability credits Additional federal results: v42_self_emp_income: Earned Self-Employment Income FICA v43_medicare_tax_unearned_income: Medicare Tax Unearned Income v44_medicare_tax_earned_income: Medicare Tax Earned Income v45_cares_recovery_rebate: CARES act Recovery Rebates","code":""},{"path":"https://shanejorr.github.io/usincometaxes/articles/using-usincometaxes.html","id":"calculating-income-taxes-from-survey-data","dir":"Articles","previous_headings":"","what":"Calculating income taxes from survey data","title":"Calculating Federal and State Income Taxes","text":"first example use internal data set called taxpayer_finances. data randomly generated formatted use usincometaxes. Guidance formatting data can found Description Input Columns article. data set contains financial household characteristics help estimate income taxes. row data set tax paying unit. Thus, row files one tax return. Columns represent items reported tax returns impact taxes. course, information data set represent everything people report tax returns. reason, income tax calculations simply estimates. call taxsim_calculate_taxes() estimate federal state income taxes tax paying unit. interested federal state tax liabilities, line item credits deduction, using return_all_information = FALSE. taxsimid column required input data frame used taxsim_calculate_taxes. column also returned output data frame containing tax calculations, allowing us link input output data frames. Now single data frame containing wages income tax liabilities. Let’s take look relationship wages estimated federal income taxes. colors represent number children 18 younger.  plots shows expect: higher income families pay taxes households pay less children . also see reduction federal marginal tax rates 2000 2020, shown decrease income tax liabilities comparing two years.","code":"data(taxpayer_finances)  taxpayer_finances %>%   head() %>%   kable() family_taxes <- taxsim_calculate_taxes(   .data = taxpayer_finances,   return_all_information = FALSE )  family_taxes %>%   head() %>%   kable() income_and_taxes <- taxpayer_finances %>%   left_join(family_taxes, by = 'taxsimid')  income_and_taxes %>%   head() %>%   kable() # custom theme for all plots in the vignette plt_theme <- function() {        theme_minimal() +     theme(       legend.text = element_text(size = 11),       axis.text = element_text(size = 10),       axis.title=element_text(size=11,face=\"bold\"),       strip.text = element_text(size = 11),       panel.grid.minor = element_blank(),       plot.title = element_text(face = \"bold\"),       plot.subtitle = element_text(size = 12),       legend.position = 'bottom'     ) } # color palettes for number of children dep_color_palette <- rev(c('#4B0055','#353E7C','#007094','#009B95','#00BE7D','#96D84B'))  income_and_taxes %>%   mutate(     tax_unit_income = pwages + swages,     num_dependents_eitc = factor(depx, levels = as.character(0:5)),     filing_status = tools::toTitleCase(mstat)   ) %>%   ggplot(aes(tax_unit_income, fiitax, color = num_dependents_eitc)) +     geom_point(alpha = .5) +     scale_x_continuous(labels = scales::label_dollar(scale = .001, suffix = \"K\"), limits = c(0, 200000)) +     scale_y_continuous(labels = scales::label_dollar(scale = .001, suffix = \"K\"), limits = c(-10000, 50000)) +     scale_color_discrete(type = dep_color_palette) +     facet_grid(rows = vars(mstat), cols = vars(year)) +     labs(       title = \"Federal Income Taxes by Filing Status, Year, and Number of Children\",       x = \"\\nHousehold Wages\",       y = \"Federal Income Taxes\"     ) +     plt_theme() +     guides(color = guide_legend(title = \"Number of Childern 18 or Younger\", title.position = \"top\", byrow = TRUE)) #> Warning: Removed 134 rows containing missing values (`geom_point()`)."},{"path":[]},{"path":"https://shanejorr.github.io/usincometaxes/articles/using-usincometaxes.html","id":"association-between-income-taxes-paid-and-household-wages","dir":"Articles","previous_headings":"Income tax simulations","what":"Association between income taxes paid and household wages","title":"Calculating Federal and State Income Taxes","text":"additional use usincometaxes run simulations. simple plotting relationship wages income taxes paid. , first need create data set holds everything constant except wages. code block , except also creates different data sets households zero four children 18 younger, can compare differences characteristic well. Now, calculate federal state income taxes simulated data set. Note return_all_information = TRUE. allows us examine credit amounts like Child Tax Credit Earned Income Tax Credit (EITC). , let’s merge tax data original input data set. Now, let’s look relationship household wages estimated income tax liabilities.  Note North Carolina flat tax 5.25% 2020. ’s taxes increase linearly.","code":"# calculate taxes from 0 to 200,000 in wages wage_linespace <- seq(0, 200000, 100)  n_kids <- 4  base_family_income <- data.frame(   year = 2020,   mstat = 'married, jointly',   state = 'NC',   page = 40,   sage = 40,   depx = n_kids,   age1 = n_kids,   age2 = n_kids,   age3 = n_kids,   pwages = wage_linespace,   swages = 0 )  # create an additional data set with no dependents and add it to the original family_income <- base_family_income %>%   bind_rows(     # make all numeber of dependent columns 0     base_family_income %>%       mutate(across(c(depx, age1, age2, age3), ~0))   ) %>%   # add unique ID to each row   mutate(taxsimid = row_number()) %>%   select(taxsimid, everything())  family_income %>%   head() %>%   kable() family_income_taxes <- taxsim_calculate_taxes(   .data = family_income,   return_all_information = TRUE )  family_income_taxes %>%   head() %>%   kable() family_income <- family_income %>%   left_join(family_income_taxes, by = 'taxsimid') family_income_long <- family_income %>%   select(pwages, depx, fiitax, siitax) %>%   pivot_longer(cols = c('fiitax', 'siitax'),                 names_to = 'jurisdiction', values_to = 'taxes_paid') %>%   mutate(     jurisdiction = recode(jurisdiction, 'fiitax' = 'Federal Income Taxes', 'siitax' = 'NC State Income Taxes'),     num_dependents_eitc = factor(depx, levels = as.character(0:5)),     post_tax_wages = pwages - taxes_paid   ) # primary_wages, taxes_paid, color = as.character(num_dependents_eitc) taxes_line_plot <- function(.data, x_var, y_var, color_var) {   ggplot(.data, aes({{x_var}}, {{y_var}}, color = {{color_var}})) +     geom_line(size = 1, alpha = .8) +     geom_hline(yintercept = 0) +     scale_x_continuous(labels = scales::label_dollar(scale = .001, suffix = \"K\")) +     scale_y_continuous(labels = scales::label_dollar(scale = .001, suffix = \"K\")) +     scale_color_brewer(type = 'seq', palette = 'Set2')  +     plt_theme()    } taxes_line_plot(family_income_long, pwages, taxes_paid, num_dependents_eitc) +   facet_wrap(vars(jurisdiction)) +   labs(     title = \"Relationship Between Wages and Income Taxes Paid\",     subtitle = \"Taxpayer is married, filing jointly, in 2020\",     x = \"\\nPre-Tax Household Wages\",     y = \"Federal Income Taxes\",     color = 'Number of Children 18 or Younger:'   ) #> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0. #> ℹ Please use `linewidth` instead. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated."},{"path":"https://shanejorr.github.io/usincometaxes/articles/using-usincometaxes.html","id":"relationship-between-pre-and-post-tax-wages","dir":"Articles","previous_headings":"Income tax simulations","what":"Relationship Between Pre and Post-Tax Wages","title":"Calculating Federal and State Income Taxes","text":"’ll create additional plot comparing pre-tax post-tax household wages.","code":"taxes_line_plot(family_income_long, pwages, post_tax_wages, num_dependents_eitc) +   facet_wrap(vars(jurisdiction)) +   labs(     title = \"Relationship Between Pre and Post-Tax Wages\",     subtitle = \"Taxpayer is married, filing jointly, in 2020\",     x = \"\\nPre-Tax Household Wages\",     y = \"Post-Tax Hosuehold Wages\",     color = 'Number of Children 18 or Younger:'   )"},{"path":"https://shanejorr.github.io/usincometaxes/articles/using-usincometaxes.html","id":"child-tax-credit-and-earned-income-tax-credit-eitc","dir":"Articles","previous_headings":"Income tax simulations","what":"Child Tax Credit and Earned Income Tax Credit (EITC)","title":"Calculating Federal and State Income Taxes","text":"noted previously, setting return_all_information = TRUE lets us retrieve additional output. Included additional output amounts Child Tax Credit EITC. Let’s look amounts credits, varying household wages. values reflect household four children 18 younger.","code":"tax_items_mapping <- c(   v25_eitc = 'Earned Income Tax Credit',   child_tax_credit = 'Child Tax Credit' )  family_income %>%   filter(depx == 4) %>%   mutate(child_tax_credit = v22_child_tax_credit_adjusted + v23_child_tax_credit_refundable) %>%   select(pwages, fiitax, v25_eitc, child_tax_credit) %>%   pivot_longer(cols = names(tax_items_mapping), names_to = 'tax_item', values_to = 'amount') %>%   mutate(tax_item = recode(tax_item, !!!tax_items_mapping)) %>%   taxes_line_plot(pwages, amount, tax_item) +   labs(     title = \"Relationship Between Wages and Credits\",     subtitle = \"Taxpayer is married, filing jointly, in 2020 and has four children under 19\",     x = \"\\nPre-Tax Wages\",     y = \"Credit Amount\",     color = NULL   )"},{"path":"https://shanejorr.github.io/usincometaxes/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Shane Orr. Author, maintainer, copyright holder. Thomas Wells. Contributor.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Orr S (2023). usincometaxes: Calculate Federal State Income Taxes United States. https://github.com/shanejorr/usincometaxes, https://shaneorr.io/r/usincometaxes.","code":"@Manual{,   title = {usincometaxes: Calculate Federal and State Income Taxes in the United States},   author = {Shane Orr},   year = {2023},   note = {https://github.com/shanejorr/usincometaxes, https://shaneorr.io/r/usincometaxes}, }"},{"path":"https://shanejorr.github.io/usincometaxes/index.html","id":"calculate-federal-and-state-income-taxes","dir":"","previous_headings":"","what":"Calculate Federal and State Income Taxes","title":"An R package to calculate federal and state income taxes in the United States","text":"usincometaxes R package calculates federal state income taxes United States. relies National Bureau Economic Research’s (NBER) TAXSIM 35 tax simulator calculations. package takes care behind--scenes work getting data proper format, converting proper file type uploading NBER server, uploading data, downloading results, placing results tidy data frame. NOTE: package associated NBER. private creation uses wonderful tax calculator.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"An R package to calculate federal and state income taxes in the United States","text":"can install usincometaxes CRAN:","code":"install.packages('usincometaxes')"},{"path":"https://shanejorr.github.io/usincometaxes/index.html","id":"quick-example","dir":"","previous_headings":"","what":"Quick example","title":"An R package to calculate federal and state income taxes in the United States","text":"usincometaxes helps users estimate household income taxes data sets containing financial household data. allows users estimate income taxes surveys financial information, United States Census Public Use Micro Data (PUMS). short example uses taxsim_calculate_taxes() calculate income taxes. Users can use taxsimid column join tax data original data set. Every taxsimid input data represented output tax data.","code":"library(dplyr) library(knitr) library(usincometaxes)  family_income <- data.frame(   taxsimid = c(1, 2),   state = c('North Carolina', 'NY'),   year = c(2015, 2020),   mstat = c('married, jointly', 'single'),   pwages = c(50000, 100000), # primary wages   page = c(26, 36) # primary age )  family_taxes <- taxsim_calculate_taxes(   .data = family_income,   marginal_tax_rates = 'Wages',   return_all_information = FALSE ) kable(family_taxes) family_income %>%   left_join(family_taxes, by = 'taxsimid') %>%   kable()"},{"path":"https://shanejorr.github.io/usincometaxes/index.html","id":"output","dir":"","previous_headings":"","what":"Output","title":"An R package to calculate federal and state income taxes in the United States","text":"taxsim_calculate_taxes() returns data frame row corresponds row .data column piece tax information. output .data can linked taxsimid column. amount output (tax information) received controlled return_all_information parameter taxsim_calculate_taxes(). Setting return_all_information FALSE returns minimal information federal state tax liabilities FICA taxes. return_all_information TRUE 44 different tax items returned. usoncometax’s output contains information column names TAXSIM 35. Therefore, please consult either Description Output Columns vignette TAXSIM 35 documentation output information.","code":"family_taxes_full_output <- taxsim_calculate_taxes(   .data = family_income,   marginal_tax_rates = 'Wages',   return_all_information = TRUE )  kable(family_taxes_full_output)"},{"path":"https://shanejorr.github.io/usincometaxes/index.html","id":"input","dir":"","previous_headings":"","what":"Input","title":"An R package to calculate federal and state income taxes in the United States","text":"Taxes calculated taxsim_calculate_taxes() using financial household characteristics found data frame represented .data parameter. column different piece information row contains tax payer unit. columns must column names data types listed Description Input Columns vignette. column names found TAXSIM 35 documentation. Therefore, can consult package documentation TAXSIM 35 documentation information input columns. two differences usincometaxes TAXSIM 35: usincometaxes allows users specify state either two letter abbreviation state SOI code. usincometaxes convert abbreviation SOI code TAXSIM 35. “single” 1 single; “married, jointly” 2 married, filing jointly; “married, separately” 6 married, filing separately; “dependent child” 8 dependent, usually child income; “head household” 1 head household filing status. input data frame, .data, can contain columns beyond listed vignette. additional columns ignored.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/index.html","id":"marginal-tax-rates","dir":"","previous_headings":"","what":"Marginal tax rates","title":"An R package to calculate federal and state income taxes in the United States","text":"default, marginal tax rates calculated using wages. default can changed marginal_tax_rates parameter taxsim_calculate_taxes(). Possible options : ‘Wages’ (default), ‘Long Term Capital Gains’, ‘Primary Wage Earner’, ‘Secondary Wage Earner’.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/index.html","id":"giving-credit","dir":"","previous_headings":"","what":"Giving credit","title":"An R package to calculate federal and state income taxes in the United States","text":"NBER’s TAXSIM 35 tax simulator tax calculations. package simply lets users interact tax simulator R. Therefore, users cite TAXSIM 35 tax simulator use package work:           Feenberg, Daniel Richard, Elizabeth Coutts, Introduction TAXSIM Model, Journal Policy Analysis Management vol 12 1, Winter 1993, pages 189-194. Aman Gupta Karmani created WebAssembly / JavaScript files. files also power tax calculator web app taxsim.app.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/calculate_taxes_http.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate taxes using https — calculate_taxes_http","title":"Calculate taxes using https — calculate_taxes_http","text":"Calculate taxes using https","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/calculate_taxes_http.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate taxes using https — calculate_taxes_http","text":"","code":"calculate_taxes_http(.data, to_taxsim_tmp_filename)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/calculate_taxes_http.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate taxes using https — calculate_taxes_http","text":".data Dataset send NBER via http. to_taxsim_tmp_filename Filename temporary file send data uploading.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/calculate_taxes_wasm.html","id":null,"dir":"Reference","previous_headings":"","what":"Use WASM to calculate taxes locally — calculate_taxes_wasm","title":"Use WASM to calculate taxes locally — calculate_taxes_wasm","text":"Use WASM calculate taxes locally","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/calculate_taxes_wasm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use WASM to calculate taxes locally — calculate_taxes_wasm","text":"","code":"calculate_taxes_wasm(.data)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/calculate_taxes_wasm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use WASM to calculate taxes locally — calculate_taxes_wasm","text":".data Dataset can sent WASM.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure input data set has required fields and data types are correct — check_data","title":"Ensure input data set has required fields and data types are correct — check_data","text":"Check ensure required column present data types correct. function binds checks helper functions.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure input data set has required fields and data types are correct — check_data","text":"","code":"check_data(.data, cols, state_column_name)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ensure input data set has required fields and data types are correct — check_data","text":".data data frame containing input parameters TAXSIM 35 program. column names input parameters . column can order. cols column names, string, data set .data state_column_name column name state column.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ensure input data set has required fields and data types are correct — check_data","text":"function return value. either produces stop message error prints checks successful.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_filing_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure values for filing status 'mstat' are proper. — check_filing_status","title":"Ensure values for filing status 'mstat' are proper. — check_filing_status","text":"Ensure values filing status 'mstat' proper.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_filing_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure values for filing status 'mstat' are proper. — check_filing_status","text":"","code":"check_filing_status(filing_status_vector)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_filing_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ensure values for filing status 'mstat' are proper. — check_filing_status","text":"filing_status_vector Column, vector, containing filing status","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_greater_zero.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that columns are greater than zero — check_greater_zero","title":"Check that columns are greater than zero — check_greater_zero","text":"columns must values greater zero. Check make sure true.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_greater_zero.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that columns are greater than zero — check_greater_zero","text":"","code":"check_greater_zero(.data, cols)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_greater_zero.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that columns are greater than zero — check_greater_zero","text":".data data frame containing input parameters TAXSIM 35 program. column names input parameters . column can order. cols column names, string, data set .data.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_id_number.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that the id_number column is an integer and every value is unique. — check_id_number","title":"Check that the id_number column is an integer and every value is unique. — check_id_number","text":"id_number column requires whole number unique value. Check make sure true.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_id_number.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that the id_number column is an integer and every value is unique. — check_id_number","text":"","code":"check_id_number(id_number_col)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_id_number.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that the id_number column is an integer and every value is unique. — check_id_number","text":"id_number_col Vector id id_number column. always column id_number input data frame.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Check numeric columns — check_numeric","title":"Check numeric columns — check_numeric","text":"Checks column numeric integer numeric integer.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check numeric columns — check_numeric","text":"","code":"check_numeric(.data, cols)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check numeric columns — check_numeric","text":".data data frame containing input parameters TAXSIM 35 program. column names input parameters . column can order. cols column names, string, data set .data.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Check input parameters — check_parameters","title":"Check input parameters — check_parameters","text":"Check input parameters taxsim_calculate_taxes proper type parameters function taxsim_calculate_taxes","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check input parameters — check_parameters","text":"","code":"check_parameters(.data, marginal_tax_rates, return_all_information)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_required_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure the required columns are present — check_required_cols","title":"Ensure the required columns are present — check_required_cols","text":"Ensure required columns present","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_required_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure the required columns are present — check_required_cols","text":"","code":"check_required_cols(cols)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_required_cols.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ensure the required columns are present — check_required_cols","text":"cols column names, string, data set .data","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_spouse.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure single taxpayers do not have spouse ages or income — check_spouse","title":"Ensure single taxpayers do not have spouse ages or income — check_spouse","text":"Ensure single taxpayers spouse ages income","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_spouse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure single taxpayers do not have spouse ages or income — check_spouse","text":"","code":"check_spouse(.data, cols)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_spouse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ensure single taxpayers do not have spouse ages or income — check_spouse","text":".data data frame containing input parameters TAXSIM 35 program. column names input parameters . column can order. cols column names, string, data set .data.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_state.html","id":null,"dir":"Reference","previous_headings":"","what":"Check state column — check_state","title":"Check state column — check_state","text":"State either two letter abbreviation full state name. Check make sure true.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_state.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check state column — check_state","text":"","code":"check_state(.data, cols, state_column_name)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_state.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check state column — check_state","text":".data data frame containing input parameters TAXSIM 35 program. column names input parameters . column can order. cols column names, string, data set .data. state_column_name column name state column.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_taxsimid.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that the taxsimid column is an integer and every value is unique. — check_taxsimid","title":"Check that the taxsimid column is an integer and every value is unique. — check_taxsimid","text":"taxsimid column requires whole number unique value. Check make sure true.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_taxsimid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that the taxsimid column is an integer and every value is unique. — check_taxsimid","text":"","code":"check_taxsimid(taxsimid_col)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/check_taxsimid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that the taxsimid column is an integer and every value is unique. — check_taxsimid","text":"taxsimid_col Vector id taxsimid column. always column taxsimid input data frame.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/clean_from_taxsim.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean final TAXSIM data set. — clean_from_taxsim","title":"Clean final TAXSIM data set. — clean_from_taxsim","text":"Clean data set received TAXSIM renaming columns removing columns needed final output.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/clean_from_taxsim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean final TAXSIM data set. — clean_from_taxsim","text":"","code":"clean_from_taxsim(from_taxsim)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/clean_from_taxsim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean final TAXSIM data set. — clean_from_taxsim","text":"from_taxsim data set received TAXSIM.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/clean_from_taxsim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean final TAXSIM data set. — clean_from_taxsim","text":"Data frame containing row's taxsimid tax calculations. data frame can merged original input data frame taxsimid.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_all.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload and download data from all ports — connect_server_all","title":"Upload and download data from all ports — connect_server_all","text":"Tries upload download data TAXSIM server using three different ports. use first port successful ports tried.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_all.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload and download data from all ports — connect_server_all","text":"","code":"connect_server_all(to_taxsim_tmp_filename, from_taxsim_tmp_filename)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_all.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload and download data from all ports — connect_server_all","text":"to_taxsim_tmp_filename Full file path name temp file containing data upload TAXSIM. from_taxsim_tmp_filename Full file path name temp file contain downloaded data.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_all_ssh.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload and download data from all ports — connect_server_all_ssh","title":"Upload and download data from all ports — connect_server_all_ssh","text":"Tries upload download data TAXSIM server using three different ports. use first port successful ports tried.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_all_ssh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload and download data from all ports — connect_server_all_ssh","text":"","code":"connect_server_all_ssh(to_taxsim_tmp_filename, from_taxsim_tmp_filename)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_all_ssh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload and download data from all ports — connect_server_all_ssh","text":"to_taxsim_tmp_filename Full file path name temp file containing data upload TAXSIM. from_taxsim_tmp_filename Full file path name temp file contain downloaded data.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_single.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload and download data — connect_server_single","title":"Upload and download data — connect_server_single","text":"Uploads data TAXSIM server via SSH downloads data taxes. uploads downloads csv files saved temp directories.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_single.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload and download data — connect_server_single","text":"","code":"connect_server_single(to_taxsim_tmp_filename, from_taxsim_tmp_filename, port)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_single.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload and download data — connect_server_single","text":"to_taxsim_tmp_filename Full file path name temp file containing data upload TAXSIM. from_taxsim_tmp_filename Full file path name temp file contain downloaded data. port String. port use connecting TAXAIM server","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_single_ssh.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload and download data — connect_server_single_ssh","title":"Upload and download data — connect_server_single_ssh","text":"Uploads data TAXSIM server via SSH downloads data taxes. uploads downloads csv files saved temp directories. parameters 'create_ssh_command'.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_single_ssh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload and download data — connect_server_single_ssh","text":"","code":"connect_server_single_ssh(   to_taxsim_tmp_filename,   from_taxsim_tmp_filename,   std_error_filename,   known_hosts_file )"},{"path":"https://shanejorr.github.io/usincometaxes/reference/connect_server_single_ssh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload and download data — connect_server_single_ssh","text":"to_taxsim_tmp_filename Full file path name temp file containing data upload TAXSIM. stdin. from_taxsim_tmp_filename Full file path name temp file contain downloaded data. stdout. std_error_filename file name file write errors. stderror. known_hosts_file File name write known_hosts file. Must temp directory directory can edit files.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/convert_marginal_tax_rates.html","id":null,"dir":"Reference","previous_headings":"","what":"Recode marginal tax rates. — convert_marginal_tax_rates","title":"Recode marginal tax rates. — convert_marginal_tax_rates","text":"Marginal tax rates specified marginal_tax_rates parameter. possible values descriptive strings. ,TAXSIM requires integers. Convert descriptive strings integers.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/convert_marginal_tax_rates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recode marginal tax rates. — convert_marginal_tax_rates","text":"","code":"convert_marginal_tax_rates(marginal_tax_rate)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/convert_marginal_tax_rates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recode marginal tax rates. — convert_marginal_tax_rates","text":"marginal_tax_rate String representing marginal_tax_rate parameter taxsim_calculate_taxes","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/convert_na.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert NA values to either 0 or the proper state value — convert_na","title":"Convert NA values to either 0 or the proper state value — convert_na","text":"Convert NA values either 0 proper state value","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/convert_na.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert NA values to either 0 or the proper state value — convert_na","text":"","code":"convert_na(.data, cols_to_convert)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_dataset_for_taxsim.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a data frame to the TAXSIM 35 output. — create_dataset_for_taxsim","title":"Convert a data frame to the TAXSIM 35 output. — create_dataset_for_taxsim","text":"function takes data set format required taxsim_calculate_taxes, checks make sure proper format TAXSIM 35, cleans can sent TAXSIM 35. function useful troubleshooting. needed calculate taxes. function useful continue receiving unreasonable errors taxsim_calculate_taxes. case, can run function data set. save resulting data frame csv file. , upload file TAXSIM 35.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_dataset_for_taxsim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a data frame to the TAXSIM 35 output. — create_dataset_for_taxsim","text":"","code":"create_dataset_for_taxsim(.data)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_dataset_for_taxsim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a data frame to the TAXSIM 35 output. — create_dataset_for_taxsim","text":".data Data frame containing information used calculate taxes. data set sent TAXSIM. Data frame must specified column names data types.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_dataset_for_taxsim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a data frame to the TAXSIM 35 output. — create_dataset_for_taxsim","text":"data frame can manually uploaded TAXSIM 35.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_dataset_for_taxsim.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert a data frame to the TAXSIM 35 output. — create_dataset_for_taxsim","text":"create_dataset_for_taxsim takes columns column names TAXSIM 35.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_dataset_for_taxsim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a data frame to the TAXSIM 35 output. — create_dataset_for_taxsim","text":"","code":"family_income <- data.frame(     taxsimid = c(1, 2),     state = c('North Carolina', 'NY'),     year = c(2015, 2015),     mstat = c('single', 'married, jointly'),     pwages = c(10000, 100000),     page = c(26, 36) )  family_taxes <- create_dataset_for_taxsim(family_income)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_ssh_command.html","id":null,"dir":"Reference","previous_headings":"","what":"Create SSH command — create_ssh_command","title":"Create SSH command — create_ssh_command","text":"Create SSH command","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_ssh_command.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create SSH command — create_ssh_command","text":"","code":"create_ssh_command(   to_taxsim_tmp_filename,   from_taxsim_tmp_filename,   std_error_filename,   known_hosts_file,   port )"},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_ssh_command.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create SSH command — create_ssh_command","text":"to_taxsim_tmp_filename Full file path name temp file containing data upload TAXSIM. stdin. from_taxsim_tmp_filename Full file path name temp file contain downloaded data. stdout. std_error_filename file name file write errors. stderror. known_hosts_file File name write known_hosts file. Must temp directory directory can edit files. port String. port use connecting TAXSIM server","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/create_ssh_command.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create SSH command — create_ssh_command","text":"Returns string represents ssh command.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/from_taxsim_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Map output column names. — from_taxsim_cols","title":"Map output column names. — from_taxsim_cols","text":"Map output column names required package input column names required TAXSIM.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/from_taxsim_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map output column names. — from_taxsim_cols","text":"","code":"from_taxsim_cols()"},{"path":"https://shanejorr.github.io/usincometaxes/reference/get_state_soi.html","id":null,"dir":"Reference","previous_headings":"","what":"Get state SOI from state name. — get_state_soi","title":"Get state SOI from state name. — get_state_soi","text":"Converts state names state abbreviations numeric SOI codes, required TAXSIM.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/get_state_soi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get state SOI from state name. — get_state_soi","text":"","code":"get_state_soi(state_column)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/get_state_soi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get state SOI from state name. — get_state_soi","text":"state_column Vectors containing states calculate taxes . Generally, state column data set sent TAXSIM.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/get_state_soi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get state SOI from state name. — get_state_soi","text":"Named integer vector number 1 51 representing state's SOI. Names state's two letter abbreviation.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_ftp.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload and import TAXSIM results via ftp — import_data_ftp","title":"Upload and import TAXSIM results via ftp — import_data_ftp","text":"Upload import TAXSIM results via ftp","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_ftp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload and import TAXSIM results via ftp — import_data_ftp","text":"","code":"import_data_ftp(to_taxsim_tmp_filename, idtl)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_ftp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload and import TAXSIM results via ftp — import_data_ftp","text":"to_taxsim_tmp_filename Full file path name temp file containing data upload TAXSIM.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_ftp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload and import TAXSIM results via ftp — import_data_ftp","text":"Dataframe TAXSIM results.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_helper.html","id":null,"dir":"Reference","previous_headings":"","what":"Import data helper — import_data_helper","title":"Import data helper — import_data_helper","text":"returning columns, data retrieved TAXSIM contains extra column. function trims extra column returning information.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_helper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import data helper — import_data_helper","text":"","code":"import_data_helper(raw_data, idtl)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_helper.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import data helper — import_data_helper","text":"raw_data raw data TAXSIM want load R.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_ssh.html","id":null,"dir":"Reference","previous_headings":"","what":"Import data via ssh — import_data_ssh","title":"Import data via ssh — import_data_ssh","text":"function wraps ssh functions upload, download, import TAXSIM results. function need sto ran import data via ssh","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_ssh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import data via ssh — import_data_ssh","text":"","code":"import_data_ssh(   to_taxsim_tmp_filename,   from_taxsim_tmp_filename,   std_error_filename,   known_hosts_file,   idtl )"},{"path":"https://shanejorr.github.io/usincometaxes/reference/import_data_ssh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import data via ssh — import_data_ssh","text":"to_taxsim_tmp_filename Full file path name temp file containing data upload TAXSIM. stdin. from_taxsim_tmp_filename Full file path name temp file contain downloaded data. stdout. std_error_filename file name file write errors. stderror. known_hosts_file File name write known_hosts file. Must temp directory directory can edit files. idtl Whether columns returned. 0 returning primary columns. 2 returning columns TAXSIM","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/recode_filing_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Recode filing status. — recode_filing_status","title":"Recode filing status. — recode_filing_status","text":"Check make sure strings filing_status correct recode string integer.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/recode_filing_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recode filing status. — recode_filing_status","text":"","code":"recode_filing_status(filing_status_colname)"},{"path":"https://shanejorr.github.io/usincometaxes/reference/recode_filing_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recode filing status. — recode_filing_status","text":"filing_status_colname Column, vector, containing filing status","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/recode_filing_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recode filing status. — recode_filing_status","text":"Vector integers reflecting numeric value filing status.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxpayer_finances.html","id":null,"dir":"Reference","previous_headings":"","what":"Financial and household characteristics of 1,000 taxpayer units. — taxpayer_finances","title":"Financial and household characteristics of 1,000 taxpayer units. — taxpayer_finances","text":"data set containing financial household characteristics 1,000 taxpayer units. data set randomly generated reflect real data. formatted ready use usincometaxes package.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxpayer_finances.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Financial and household characteristics of 1,000 taxpayer units. — taxpayer_finances","text":"","code":"taxpayer_finances"},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxpayer_finances.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Financial and household characteristics of 1,000 taxpayer units. — taxpayer_finances","text":"data frame 1,000 rows 16 variables. Variable definitions can found following article: https://www.shaneorr.io/r/usincometaxes/articles/taxsim-input.html","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxpayer_finances.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Financial and household characteristics of 1,000 taxpayer units. — taxpayer_finances","text":"Created random data generation.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxsim_calculate_taxes.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes","title":"Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes","text":"function calculates state federal income taxes using TAXSIM 35 tax simulator. See http://taxsim.nber.org/taxsim35/ information TAXSIM 35. function uses compiled WebAssembly (wasm) version TAXSIM app part package calculate taxes. Details generating wasm file can found : https://github.com/tmm1/taxsim.js","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxsim_calculate_taxes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes","text":"","code":"taxsim_calculate_taxes(   .data,   marginal_tax_rates = \"Wages\",   return_all_information = FALSE )"},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxsim_calculate_taxes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes","text":".data Data frame containing information used calculate taxes. data set sent TAXSIM. Data frame must specified column names data types. marginal_tax_rates Variable use calculating marginal tax rates. One 'Wages', 'Long Term Capital Gains', 'Primary Wage Earner', 'Secondary Wage Earner'. Default 'Wages'. return_all_information Boolean (TRUE FALSE). Whether return information TAXSIM (TRUE), key information (FALSE). Returning information returns 42 columns output, returning key information returns 9 columns. faster download results key information.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxsim_calculate_taxes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes","text":"output data set contains information returned TAXSIM 35, using column names. Descriptions columns can found bottom page containing TAXSIM 35's documentation.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxsim_calculate_taxes.html","id":"formatting-your-data","dir":"Reference","previous_headings":"","what":"Formatting your data","title":"Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes","text":"input data set, .data, column tax characteristic (year, filing status, income, etc.) row tax filing unit. Columns take names, fulfill requirements, needed TAXSIM 35. Potential columns, names descriptions, can found : http://taxsim.nber.org/taxsim35/. following columns required: taxsimid, year, mstat, state. two points taxsim_calculate_taxes departs TAXSIM 35. filing status, mstat, users can either enter number allowed TAXSIM 35 one following descriptions: \"single\" \"married, jointly\" \"married, separately\" \"dependent child\" \"head household\" state, users can either enter SOI code, required TAXSIM 35, two-letter state abbreviation, full name state. OK input data set, .data, contains columns addition ones used TAXSIM 35.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxsim_calculate_taxes.html","id":"giving-credit-where-it-is-due","dir":"Reference","previous_headings":"","what":"Giving credit where it is due","title":"Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes","text":"NBER's TAXSIM 35 tax simulator tax calculations. package simply lets users interact tax simulator R. Therefore, users cite TASXSIM 35 tax simulator use package work: Feenberg, Daniel Richard, Elizabeth Coutts, Introduction TAXSIM Model, Journal Policy Analysis Management vol 12 1, Winter 1993, pages 189-194.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxsim_calculate_taxes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes","text":"","code":"family_income <- data.frame(     taxsimid = c(1, 2),     state = c('North Carolina', 'NY'),     year = c(2015, 2015),     mstat = c('single', 'married, jointly'),     pwages = c(10000, 100000),     page = c(26, 36) )   family_taxes <- taxsim_calculate_taxes(family_income)  merge(family_income, family_taxes, by = 'taxsimid') #>   taxsimid          state year            mstat pwages page   fiitax  siitax #> 1        1 North Carolina 2015           single  1e+04   26  -369.12  143.75 #> 2        2             NY 2015 married, jointly  1e+05   36 11437.50 4761.98 #>    fica frate srate ficar tfica #> 1  1530  7.65  5.75  15.3   765 #> 2 15300 25.00  6.45  15.3  7650"},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxsim_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Map input column names. — taxsim_cols","title":"Map input column names. — taxsim_cols","text":"Map input column names required package input column names required TAXSIM.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/taxsim_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map input column names. — taxsim_cols","text":"","code":"taxsim_cols()"},{"path":"https://shanejorr.github.io/usincometaxes/reference/usincometaxes-package.html","id":null,"dir":"Reference","previous_headings":"","what":"usincometaxes: A package for calculating state and federal income taxes in the United States. — usincometaxes-package","title":"usincometaxes: A package for calculating state and federal income taxes in the United States. — usincometaxes-package","text":"usincometaxes package single function packages calculates state federal income taxes United State. relies NBER's TAXSIM 35 tax calculator calculations. See https://taxsim.nber.org/taxsim35/ information TAXSIM 35.","code":""},{"path":[]},{"path":"https://shanejorr.github.io/usincometaxes/reference/usincometaxes-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"usincometaxes: A package for calculating state and federal income taxes in the United States. — usincometaxes-package","text":"Maintainer: Shane Orr shane.j.orr@gmail.com [copyright holder] contributors: Thomas Wells thomascwells@gmail.com [contributor]","code":""},{"path":"https://shanejorr.github.io/usincometaxes/reference/usincometaxes.html","id":null,"dir":"Reference","previous_headings":"","what":"usincometaxes: A package for calculating state and federal income taxes in the United States. — usincometaxes","title":"usincometaxes: A package for calculating state and federal income taxes in the United States. — usincometaxes","text":"usincometaxes package single function packages calculates state federal income taxes United State. relies NBER's TAXSIM 35 tax calculator calculations. See https://taxsim.nber.org/taxsim35/ information TAXSIM 35.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"usincometaxes-070","dir":"Changelog","previous_headings":"","what":"usincometaxes 0.7.0","title":"usincometaxes 0.7.0","text":"Update taxsim.wasm taxsim.js latest files. ETag current version e23da-601f65ac97a40. Add following old dependent columns back input columns: ‘dep13’, ‘dep17’, ‘dep18’ Add following new columns output: ‘credits’ ‘staxbc’","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"usincometaxes-060","dir":"Changelog","previous_headings":"","what":"usincometaxes 0.6.0","title":"usincometaxes 0.6.0","text":"CRAN release: 2023-01-24 Removed interface option taxsim_calculate_taxes(). Now, ‘wasm’ interface option. Users able send data TAXSIM server via ssh http. feature removed seen unexpected changes TAXSIM server’s output, silently introduce errors.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"usincometaxes-054","dir":"Changelog","previous_headings":"","what":"usincometaxes 0.5.4","title":"usincometaxes 0.5.4","text":"CRAN release: 2022-10-30","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"patch-0-5-4","dir":"Changelog","previous_headings":"","what":"Patch","title":"usincometaxes 0.5.4","text":"Convert errors messages TAXSIM connected , per CRAN policy ‘Packages use Internet resources fail gracefully’. longer run tests CRAN rely calling API, per guidance HTTP Testing R.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"usincometaxes-053","dir":"Changelog","previous_headings":"","what":"usincometaxes 0.5.3","title":"usincometaxes 0.5.3","text":"CRAN release: 2022-10-08","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"patch-0-5-3","dir":"Changelog","previous_headings":"","what":"Patch","title":"usincometaxes 0.5.3","text":"TAXSIM changed output ssh http returns additional columns. Incorporate changes, still return columns present change. return original columns ssh http output aligns wasm output.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"usincometaxes-052","dir":"Changelog","previous_headings":"","what":"usincometaxes 0.5.2","title":"usincometaxes 0.5.2","text":"CRAN release: 2022-09-20","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"patch-0-5-2","dir":"Changelog","previous_headings":"","what":"Patch","title":"usincometaxes 0.5.2","text":"TAXSIM added back tficar column http (see 0.5.1 information). Added tficar column back tests.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"usincometaxes-051","dir":"Changelog","previous_headings":"","what":"usincometaxes 0.5.1","title":"usincometaxes 0.5.1","text":"CRAN release: 2022-08-31","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"patch-0-5-1","dir":"Changelog","previous_headings":"","what":"Patch","title":"usincometaxes 0.5.1","text":"TAXSIM changed returns http results server. now adds trailing comma end line. causes import functions think additional column. solve, update http import functions remove trailing commas. http results TAXSIM longer include column tficar. caused tests fail. Updated tests match http ssh results account difference.","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"usincometaxes-050","dir":"Changelog","previous_headings":"","what":"usincometaxes 0.5.0","title":"usincometaxes 0.5.0","text":"CRAN release: 2022-07-08","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"major-changes-0-5-0","dir":"Changelog","previous_headings":"","what":"Major Changes","title":"usincometaxes 0.5.0","text":"Add interface parameter taxsim_calculate_taxes(), allows users select method interfacing TAXSIM. Add ‘wasm’ option interface parameter. functionality incorporates Aman Gupta Karmani’s JS / WebAssembly tooling package. Therefore, tax calculations can conducted locally without send retrieving data TAXSIM servers. (@thomascwells, PR #11) Add ‘http’ option interface parameter. option uses curl send retrieve data TAXSIM via https. (@thomascwells, PR #9)","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"usincometaxes-040","dir":"Changelog","previous_headings":"","what":"usincometaxes 0.4.0","title":"usincometaxes 0.4.0","text":"CRAN release: 2022-05-30","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"minor-changes-0-4-0","dir":"Changelog","previous_headings":"","what":"Minor Changes","title":"usincometaxes 0.4.0","text":"ssh, create known_hosts file temporary directory instead .ssh.known_hosts. needed package write files outside tempdir, violation CRAN requirements. ssh, use port 22.","code":""},{"path":[]},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"minor-changes-0-3-0","dir":"Changelog","previous_headings":"","what":"Minor Changes","title":"usincometaxes 0.3.0","text":"Updated input column names input columns TAXSIM represented. Changed spelling one input column name match TAXSIM (changed ‘ui’ ‘sui’). (#7, @thomascwells)","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"usincometaxes-020","dir":"Changelog","previous_headings":"","what":"usincometaxes 0.2.0","title":"usincometaxes 0.2.0","text":"CRAN release: 2022-05-10","code":""},{"path":"https://shanejorr.github.io/usincometaxes/news/index.html","id":"major-changes-0-2-0","dir":"Changelog","previous_headings":"","what":"Major Changes","title":"usincometaxes 0.2.0","text":"Updated TAXSIM 35. Data now sent TAXSIM 35 server instead TAXSIM 32 server. Changed column names input columns now match TAXSIM 35’s input column names.","code":""}]
