<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="usincometaxes">
<title>Interface Options for Calculating Taxes • usincometaxes</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interface Options for Calculating Taxes">
<meta property="og:description" content="usincometaxes">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">usincometaxes</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/using-usincometaxes.html">Calculating Federal and State Income Taxes</a>
    <a class="dropdown-item" href="../articles/taxsim-input.html">Description of Input Columns</a>
    <a class="dropdown-item" href="../articles/taxsim-output.html">Description of Output Columns</a>
    <a class="dropdown-item" href="../articles/send-data-to-taxsim.html">Manually Upload Data to TAXSIM 35</a>
    <a class="dropdown-item" href="../articles/interface-options.html">Interface Options for Calculating Taxes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/shanejorr/usincometaxes/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Interface Options for Calculating Taxes</h1>
                        <h4 data-toc-skip class="author">Shane Orr</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/shanejorr/usincometaxes/blob/HEAD/vignettes/interface-options.Rmd" class="external-link"><code>vignettes/interface-options.Rmd</code></a></small>
      <div class="d-none name"><code>interface-options.Rmd</code></div>
    </div>

    
    
<p>You calculate taxes with the <code><a href="../reference/taxsim_calculate_taxes.html">taxsim_calculate_taxes()</a></code>
function. This function contains an <code>interface</code> parameter
where you can specify how you want to interact with the NBER’s <a href="https://users.nber.org/~taxsim/taxsim35/" class="external-link">TAXSIM 35</a> program.
All options use TAXSIM 35, they only differ in how you access the
program. The <code>interface</code> parameter has three options: (1)
‘wasm’, (2) ‘ssh’, and (3) ‘http’. All three options are outlined
below.</p>
<div class="section level3">
<h3 id="wasm">1. ‘wasm’<a class="anchor" aria-label="anchor" href="#wasm"></a>
</h3>
<p>‘wasm’, an abbreviation for WebAssembly, is the only option that runs
the calculations locally on your computer. You do not have to connect to
the TAXSIM 35 servers. For this reason, it is faster and more robust
than the other methods: you don’t have to connect to a server, worry
about firewalls, etc. The output <em>should</em> be the same as the
options that connect to the TAXSIM 35 server directly. But, keep reading
for why this might not always be the case.</p>
<p>With ‘wasm’, the calculations are conducted by JavaScript /
WebAssembly files that are part of the package. In other words, you get
the files when you install the package. Interacting with the files is
abstracted away so all you see are the tax calculations.</p>
<p>The JavaScript / WebAssembly tooling comes from Aman Gupta Karmani’s
great work that you can find in this GitHub repo: <a href="https://github.com/tmm1/taxsim.js" class="external-link uri">https://github.com/tmm1/taxsim.js</a>. And while you’re
checking out his work, don’t overlook his tax calculator web app at <a href="https://taxsim.app" class="external-link">taxsim.app</a>.</p>
<p>The JavaScript / WebAssembly files are updated soon after the NBER
updates the Fortran code that runs TAXSIM 35. We will then incorporate
these updated JavaScript / WebAssembly files into a new version of
<code>usincometaxes</code>. A benefit of this approach is that a given
version of <code>usincometaxes</code> will always produce the same
results when using ‘wasm’. This holds because a given version of
<code>usincometaxes</code> will always use the exact same JavaScript /
WebAssembly files to calculate taxes. This might not always be true with
‘ssh’ or ‘http’ since the calculations are conducted on the NBER’s
servers. Changes to the NBER’s TASXIM program running on these servers
will not correlate with version changes to <code>usincometaxes</code>.
Therefore, ‘wasm’ is a great option if reproducibility is paramount.</p>
<p><code>usincometaxes</code>’s <a href="https://www.shaneorr.io/r/usincometaxes/news/index.html" class="external-link">changelog</a>
will note when a version changes due to an update to the JavaScript /
WebAssembly files. That way, you can check if you are using the version
of <code>usincometaxes</code> with the most recent JavaScript /
WebAssembly files and reinstall <code>usincometaxes</code> if this is
not the case. As a reminder, the following code lets you check package
versions: <code>packageVersion("usincometaxes")</code>.</p>
</div>
<div class="section level3">
<h3 id="ssh">2. ‘ssh’<a class="anchor" aria-label="anchor" href="#ssh"></a>
</h3>
<p>The ‘ssh’ <code>interface</code> option to
<code><a href="../reference/taxsim_calculate_taxes.html">taxsim_calculate_taxes()</a></code> connects to the TAXSIM 35 server
via ssh, sends the data to the server, and retrieves the output with
calculated taxes via standard output. SSH must be installed on your
operating system to use this option. If you use the ‘ssh’ option and SSH
is not installed on your computer, you will receive an informative error
telling you this fact. Because of this, there is no need to check
whether SSH is installed prior to using; but you can do so with the
following R command: <code>Sys.which('ssh')</code>.</p>
<p>Standard port 22 is used to connect via SSH. There is a chance that
SSH port 22 is blocked via a firewall. In this case,
<code><a href="../reference/taxsim_calculate_taxes.html">taxsim_calculate_taxes()</a></code> will return an error that starts:
“Error: There was a problem in calculating the taxes using ‘ssh’.”. Note
that this error could represent a variety of problems, one of which is
that a connection cannot be established with the NBER server vai SSH.
But, the error might also mean that problems arose when the NBER’s
server attempted to calculate taxes.</p>
<p>Using ‘ssh’ ensures that you are working with the most up to date
version of TAXSIM 35, regardless of when you installed
<code>usincometaxes</code>. With ‘ssh’ the good news is that you will
always be using the most up to date TAXSIM 35 version, the bad news is
that there is an off chance you will see slightly different results
through time. Thus, ‘ssh’ may not always provide reproducible results.
Finally, ‘ssh’ is slower than ‘wasm’ since you are sending data to, and
retrieving data from, a server.</p>
</div>
<div class="section level3">
<h3 id="http">3. ‘http’<a class="anchor" aria-label="anchor" href="#http"></a>
</h3>
<p>‘http’ uses <code>curl</code> to send and retrieve the data from the
TAXSIM 35 server via https. Since calculations are conducted remotely,
‘http’ has the advantages and disadvantages of ‘ssh’: you are using the
most up to date version of TAXSIM 35 (advantage), which may prevent
results from being the exact same through time (disadvantage).</p>
<p>With ‘http’, data sets are limited to 2,000 rows. You will receive an
error if you use ‘http’ on a data set with more than 2,000 rows.</p>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://shaneorr.io" class="external-link">Shane Orr</a>, <a href="https://github.com/thomascwells" class="external-link">Thomas Wells</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
