<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function calculates state and federal income taxes using the TAXSIM 35 tax simulator.
See http://taxsim.nber.org/taxsim35/ for more information on TAXSIM 35. The function uses
a compiled WebAssembly (wasm) version of the TAXSIM app that is part of the package to calculate taxes.
Details about generating the wasm file can be found here: https://github.com/tmm1/taxsim.js"><title>Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes • usincometaxes</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate state and federal taxes using TASXSIM 35. — taxsim_calculate_taxes"><meta property="og:description" content="This function calculates state and federal income taxes using the TAXSIM 35 tax simulator.
See http://taxsim.nber.org/taxsim35/ for more information on TAXSIM 35. The function uses
a compiled WebAssembly (wasm) version of the TAXSIM app that is part of the package to calculate taxes.
Details about generating the wasm file can be found here: https://github.com/tmm1/taxsim.js"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">usincometaxes</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/using-usincometaxes.html">Calculating Federal and State Income Taxes</a>
    <a class="dropdown-item" href="../articles/taxsim-input.html">Description of Input Columns</a>
    <a class="dropdown-item" href="../articles/taxsim-output.html">Description of Output Columns</a>
    <a class="dropdown-item" href="../articles/send-data-to-taxsim.html">Manually Upload Data to TAXSIM 35</a>
    <a class="dropdown-item" href="../articles/wasm.html">About the Web Assembly Interface</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/shanejorr/usincometaxes/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Calculate state and federal taxes using TASXSIM 35.</h1>
      <small class="dont-index">Source: <a href="https://github.com/shanejorr/usincometaxes/blob/HEAD/R/calculate_taxes.R" class="external-link"><code>R/calculate_taxes.R</code></a></small>
      <div class="d-none name"><code>taxsim_calculate_taxes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calculates state and federal income taxes using the TAXSIM 35 tax simulator.
See <a href="http://taxsim.nber.org/taxsim35/" class="external-link">http://taxsim.nber.org/taxsim35/</a> for more information on TAXSIM 35. The function uses
a compiled WebAssembly (wasm) version of the TAXSIM app that is part of the package to calculate taxes.
Details about generating the wasm file can be found here: <a href="https://github.com/tmm1/taxsim.js" class="external-link">https://github.com/tmm1/taxsim.js</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">taxsim_calculate_taxes</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  marginal_tax_rates <span class="op">=</span> <span class="st">"Wages"</span>,</span>
<span>  return_all_information <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.data</dt>
<dd><p>Data frame containing the information that will be used to calculate taxes.
This data set will be sent to TAXSIM. Data frame must have specified column names and data types.</p></dd>


<dt>marginal_tax_rates</dt>
<dd><p>Variable to use when calculating marginal tax rates. One of 'Wages', 'Long Term Capital Gains',
'Primary Wage Earner', or 'Secondary Wage Earner'. Default is 'Wages'.</p></dd>


<dt>return_all_information</dt>
<dd><p>Boolean (TRUE or FALSE). Whether to return all information from TAXSIM (TRUE),
or only key information (FALSE). Returning all information returns 42 columns of output, while only
returning key information returns 9 columns. It is faster to download results with only key information.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The output data set contains all the information returned by <a href="http://taxsim.nber.org/taxsim35/" class="external-link">TAXSIM 35</a>,
using the same column names. Descriptions of these columns can be found at the bottom of the page
containing <a href="http://taxsim.nber.org/taxsim35/" class="external-link">TAXSIM 35's documentation</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="formatting-your-data">Formatting your data<a class="anchor" aria-label="anchor" href="#formatting-your-data"></a></h2>
    


<p>In the input data set, <code>.data</code>, each column is a tax characteristic (year, filing status, income, etc.)
and each row is a tax filing unit.</p>
<p>Columns should take the same names, and fulfill the same requirements, as those needed for <a href="http://taxsim.nber.org/taxsim35/" class="external-link">TAXSIM 35</a>.
Potential columns, with there names and descriptions, can be found at: <a href="http://taxsim.nber.org/taxsim35/" class="external-link">http://taxsim.nber.org/taxsim35/</a>.</p>
<p>The following columns are required: <code>taxsimid</code>, <code>year</code>, <code>mstat</code>, and <code>state</code>.</p>
<p>There are two points where <code>taxsim_calculate_taxes</code> departs from <a href="http://taxsim.nber.org/taxsim35/" class="external-link">TAXSIM 35</a>.</p><ol><li><p>For filing status, <code>mstat</code>, users can either enter the number allowed by <a href="http://taxsim.nber.org/taxsim35/" class="external-link">TAXSIM 35</a>
or one of the following descriptions:</p></li>
</ol><ul><li><p>"single"</p></li>
<li><p>"married, jointly"</p></li>
<li><p>"married, separately"</p></li>
<li><p>"dependent child"</p></li>
<li><p>"head of household"</p></li>
</ul><ol><li><p>For <code>state</code>, users can either enter the SOI code, as required by <a href="http://taxsim.nber.org/taxsim35/" class="external-link">TAXSIM 35</a>,
the two-letter state abbreviation, or the full name of the state.</p></li>
</ol><p>It is OK if the input data set, <code>.data</code>, contains columns in addition to the ones that are used by <a href="http://taxsim.nber.org/taxsim35/" class="external-link">TAXSIM 35</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="giving-credit-where-it-is-due">Giving credit where it is due<a class="anchor" aria-label="anchor" href="#giving-credit-where-it-is-due"></a></h2>
    


<p>The NBER's <a href="http://taxsim.nber.org/taxsim35/" class="external-link">TAXSIM 35</a> tax simulator does all tax
calculations. This package simply lets users interact with the tax simulator through R. Therefore,
users should cite the TASXSIM 35 tax simulator when they use this package in their work:</p>
<p>Feenberg, Daniel Richard, and Elizabeth Coutts, An Introduction to the TAXSIM Model,
Journal of Policy Analysis and Management vol 12 no 1, Winter 1993, pages 189-194.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">family_income</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    taxsimid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'North Carolina'</span>, <span class="st">'NY'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2015</span>, <span class="fl">2015</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    mstat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'single'</span>, <span class="st">'married, jointly'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    pwages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10000</span>, <span class="fl">100000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    page <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">26</span>, <span class="fl">36</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">family_taxes</span> <span class="op">&lt;-</span> <span class="fu">taxsim_calculate_taxes</span><span class="op">(</span><span class="va">family_income</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">family_income</span>, <span class="va">family_taxes</span>, by <span class="op">=</span> <span class="st">'taxsimid'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   taxsimid          state year            mstat pwages page   fiitax  siitax</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        1 North Carolina 2015           single  1e+04   26  -369.12  143.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        2             NY 2015 married, jointly  1e+05   36 11437.50 4761.98</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    fica frate srate ficar tfica</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1530  7.65  5.75  15.3   765</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 15300 25.00  6.45  15.3  7650</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://shaneorr.io" class="external-link">Shane Orr</a>, <a href="https://github.com/thomascwells" class="external-link">Thomas Wells</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

